MÃ´ táº£ cá»§a dá»± Ã¡n 
Citizen
â€¢        BÃ¡o cÃ¡o rÃ¡c/tÃ¡i cháº¿ cáº§n thu gom (áº£nh + GPS + mÃ´ táº£).
â€¢        Theo dÃµi tráº¡ng thÃ¡i thu gom cá»§a tá»«ng bÃ¡o cÃ¡o (Pending / Accepted / Assigned / Collected).
â€¢        Thá»±c hiá»‡n phÃ¢n loáº¡i rÃ¡c táº¡i nguá»“n (chá»n loáº¡i rÃ¡c khi táº¡o bÃ¡o cÃ¡o).
â€¢        Nháº­n Ä‘iá»ƒm thÆ°á»Ÿng khi bÃ¡o cÃ¡o há»£p lá»‡ vÃ  phÃ¢n loáº¡i Ä‘Ãºng.
â€¢        Xem lá»‹ch sá»­ Ä‘iá»ƒm thÆ°á»Ÿng vÃ  báº£ng xáº¿p háº¡ng theo khu vá»±c.
â€¢        Gá»­i pháº£n há»“i hoáº·c khiáº¿u náº¡i khi viá»‡c thu gom khÃ´ng Ä‘Ãºng cam káº¿t.
Recycling Enterprise
â€¢        ÄÄƒng kÃ½ vÃ  quáº£n lÃ½ nÄƒng lá»±c xá»­ lÃ½ rÃ¡c: Loáº¡i rÃ¡c tiáº¿p nháº­n/CÃ´ng suáº¥t xá»­ lÃ½/Khu vá»±c phá»¥c vá»¥
â€¢        Nháº­n vÃ  quyáº¿t Ä‘á»‹nh tiáº¿p nháº­n hoáº·c tá»« chá»‘i cÃ¡c yÃªu cáº§u thu gom trong pháº¡m vi hoáº¡t Ä‘á»™ng.
â€¢        Xem danh sÃ¡ch yÃªu cáº§u thu gom Ä‘Æ°á»£c gá»£i Ã½ Æ°u tiÃªn xá»­ lÃ½ dá»±a trÃªn cÃ¡c tiÃªu chÃ­ cáº¥u hÃ¬nh. (optional)
â€¢        GÃ¡n vÃ  Ä‘iá»u phá»‘i yÃªu cáº§u thu gom cho Collector thuá»™c doanh nghiá»‡p.
â€¢        Theo dÃµi tiáº¿n Ä‘á»™ xá»­ lÃ½ vÃ  tráº¡ng thÃ¡i thu gom theo thá»i gian thá»±c.
â€¢        Xem bÃ¡o cÃ¡o khá»‘i lÆ°á»£ng rÃ¡c Ä‘Ã£ thu gom vÃ  tÃ¡i cháº¿ theo loáº¡i/khu vá»±c/thá»i gian.
â€¢        Táº¡o vÃ  cáº¥u hÃ¬nh quy táº¯c tÃ­nh Ä‘iá»ƒm thÆ°á»Ÿng cho Citizen (theo loáº¡i rÃ¡c, cháº¥t lÆ°á»£ng bÃ¡o cÃ¡o, thá»i gian xá»­ lÃ½â€¦).
- Quáº£n lÃ­ cÃ¡c Ä‘Æ¡n khiáº¿u náº¡i liÃªn quan tá»›i collector
Collector
â€¢        Nháº­n cÃ¡c yÃªu cáº§u thu gom Ä‘Æ°á»£c phÃ¢n cÃ´ng tá»« Recycling Enterprise.
â€¢        Cáº­p nháº­t tráº¡ng thÃ¡i thu gom theo thá»i gian thá»±c (Assigned / On the way / Collected).
â€¢        XÃ¡c nháº­n hoÃ n táº¥t thu gom báº±ng hÃ¬nh áº£nh vÃ  thÃ´ng tin tráº¡ng thÃ¡i.
â€¢        Xem lá»‹ch sá»­ cÃ´ng viá»‡c vÃ  sá»‘ lÆ°á»£ng yÃªu cáº§u Ä‘Ã£ hoÃ n thÃ nh.

Administrator 
â€¢        Quáº£n lÃ­ tÃ i khoáº£n ngÆ°á»i dÃ¹ng vÃ  phÃ¢n quyá»n:(CRUD)
â€¢        GiÃ¡m sÃ¡t hoáº¡t Ä‘á»™ng tá»•ng thá»ƒ cá»§a há»‡ thá»‘ng. 
                                (Há»‡ thá»‘ng hiá»ƒn thá»‹ dashboard tá»•ng quan, bao gá»“m:
                               Tá»•ng sá»‘ bÃ¡o cÃ¡o thu gom theo tráº¡ng thÃ¡i (Pending, Accepted, Assigned, Collected).
                               Thá»‘ng kÃª bÃ¡o cÃ¡o theo khu vá»±c vÃ  thá»i gian.
                               Hiá»‡u suáº¥t xá»­ lÃ½ cá»§a cÃ¡c Recycling Enterprise.
                               Hiá»‡u suáº¥t lÃ m viá»‡c cá»§a Collector.
                               Thá»‘ng kÃª Ä‘iá»ƒm thÆ°á»Ÿng vÃ  khiáº¿u náº¡i.)

- Quáº£n lÃ­ cÃ¡c Ä‘Æ¡n kiá»ƒu náº¡i liÃªn quan tá»›i há»‡ thá»‘ng (vÃ­ dá»¥: cá»™ng Ä‘iá»ƒm sai, bug) 
- Quáº£n lÃ­ thÃ´ng bÃ¡o 
- Quáº£n lÃ­ doanh nghiá»‡p 
- Quáº£n lÃ­ pháº§n thÆ°á»Ÿng Ä‘á»•i Ä‘iá»ƒm 
- Setting(option: configapi,....)

* TÃ¹y chá»n: AI há»— trá»£ phÃ¢n loáº¡i rÃ¡c (Decision Support):
Input: áº£nh rÃ¡c do Citizen upload
Output: gá»£i Ã½ loáº¡i rÃ¡c (Organic / Recyclable / Hazardousâ€¦)
NgÆ°á»i dÃ¹ng xÃ¡c nháº­n láº¡i trÆ°á»›c khi gá»­i 

Ä‘Ã¢y lÃ  database 

1. NgÆ°á»i dÃ¹ng & phÃ¢n quyá»n
APP_USER
ğŸ‘‰ Báº£ng lÃµi cho má»i loáº¡i ngÆ°á»i dÃ¹ng (Citizen / Collector / Enterprise staff / Admin)
â€¢	id â€“ Ä‘á»‹nh danh user
â€¢	full_name, email, phone, avatar_url
â€¢	password_hash
â€¢	status â€“ active / blocked / deleted
â€¢	last_login_at, created_at, updated_at, deleted_at
________________________________________
USER_ROLE
ğŸ‘‰ Má»™t user cÃ³ thá»ƒ cÃ³ nhiá»u role há»‡ thá»‘ng
â€¢	user_id â€“ FK â†’ APP_USER
â€¢	role â€“ ADMIN / CITIZEN / COLLECTOR / ENTERPRISE
â€¢	created_at
________________________________________
2. Há»“ sÆ¡ theo vai trÃ²
CITIZEN_PROFILE
ğŸ‘‰ Má»Ÿ rá»™ng cho Citizen
â€¢	user_id (PK, FK)
â€¢	default_location_id â€“ vá»‹ trÃ­ máº·c Ä‘á»‹nh
â€¢	points_balance â€“ tá»•ng Ä‘iá»ƒm hiá»‡n táº¡i
â€¢	rank_scope â€“ pháº¡m vi xáº¿p háº¡ng
â€¢	updated_at
________________________________________
COLLECTOR_PROFILE
ğŸ‘‰ Há»“ sÆ¡ Collector
â€¢	user_id (PK, FK)
â€¢	enterprise_id â€“ thuá»™c doanh nghiá»‡p nÃ o
â€¢	availability_status â€“ available / busy
â€¢	vehicle_type, max_load_kg
â€¢	updated_at
________________________________________
3. Doanh nghiá»‡p tÃ¡i cháº¿
ENTERPRISE
ğŸ‘‰ Doanh nghiá»‡p tÃ¡i cháº¿
â€¢	id, name, tax_code
â€¢	contact_email, contact_phone
â€¢	address_location_id
â€¢	status
â€¢	created_at, updated_at, deleted_at
________________________________________
ENTERPRISE_SERVICE_CONFIG
ğŸ‘‰ Cáº¥u hÃ¬nh nÄƒng lá»±c xá»­ lÃ½
â€¢	enterprise_id (PK, FK)
â€¢	capacity_per_day, capacity_unit
â€¢	service_area_type (district / city / polygonâ€¦)
â€¢	service_area_data (JSON)
â€¢	priority_rules (JSON)
â€¢	updated_at
________________________________________
ENTERPRISE_MEMBER
ğŸ‘‰ User thuá»™c doanh nghiá»‡p (staff / manager)
â€¢	enterprise_id
â€¢	user_id
â€¢	role_in_enterprise
â€¢	created_at
________________________________________
4. Äá»‹nh vá»‹
LOCATION
ğŸ‘‰ LÆ°u vá»‹ trÃ­ chuáº©n hÃ³a
â€¢	id
â€¢	address_text, ward, district, city
â€¢	lat, lng, geohash
â€¢	created_at, updated_at
________________________________________
5. RÃ¡c & phÃ¢n loáº¡i
WASTE_TYPE
ğŸ‘‰ Danh má»¥c loáº¡i rÃ¡c
â€¢	id
â€¢	code, name, description
â€¢	category (Organic / Recyclable / Hazardousâ€¦)
â€¢	is_hazardous
â€¢	created_at, updated_at
________________________________________
ENTERPRISE_WASTE_TYPE
ğŸ‘‰ Doanh nghiá»‡p nháº­n loáº¡i rÃ¡c nÃ o
â€¢	enterprise_id
â€¢	waste_type_id
â€¢	created_at
________________________________________
6. BÃ¡o cÃ¡o rÃ¡c cá»§a Citizen
WASTE_REPORT
ğŸ‘‰ BÃ¡o cÃ¡o rÃ¡c (trung tÃ¢m nghiá»‡p vá»¥)
â€¢	id
â€¢	citizen_id
â€¢	location_id
â€¢	description
â€¢	waste_type_id
â€¢	status (Pending / Accepted / Assigned / Collected)
â€¢	is_verified, verified_by_user_id, verified_at
â€¢	created_at, updated_at
________________________________________
WASTE_REPORT_IMAGE
ğŸ‘‰ áº¢nh cá»§a bÃ¡o cÃ¡o
â€¢	id
â€¢	report_id
â€¢	image_url, thumb_url
â€¢	taken_at, created_at
________________________________________
7. Thu gom
COLLECTION_REQUEST
ğŸ‘‰ Nhiá»‡m vá»¥ thu gom do bÃ¡o cÃ¡o sinh ra
â€¢	id
â€¢	report_id
â€¢	enterprise_id
â€¢	collector_id
â€¢	status
â€¢	accepted_at, assigned_at, on_way_at, collected_at
â€¢	collector_proof_image_url
â€¢	note
â€¢	created_at, updated_at
________________________________________
STATUS_HISTORY
ğŸ‘‰ Audit trail cho má»i tráº¡ng thÃ¡i
â€¢	id
â€¢	target_type, target_id
â€¢	from_status, to_status
â€¢	actor_user_id
â€¢	timestamp
â€¢	meta (JSON)
________________________________________
8. Äiá»ƒm thÆ°á»Ÿng & quy táº¯c
POINT_RULE
ğŸ‘‰ Quy táº¯c cá»™ng Ä‘iá»ƒm
â€¢	id
â€¢	enterprise_id
â€¢	name, is_active
â€¢	effective_from, effective_to
â€¢	rule_json (logic tÃ­nh Ä‘iá»ƒm)
â€¢	points, priority
â€¢	created_by_user_id
â€¢	created_at, updated_at
________________________________________
REWARD_TRANSACTION
ğŸ‘‰ Giao dá»‹ch Ä‘iá»ƒm (cá»™ng / trá»«)
â€¢	id
â€¢	citizen_id
â€¢	request_id
â€¢	type
â€¢	points
â€¢	reason
â€¢	balance_after
â€¢	created_by_user_id
â€¢	created_at
________________________________________
9. Pháº§n thÆ°á»Ÿng Ä‘á»•i Ä‘iá»ƒm
REWARD_ITEM
ğŸ‘‰ Pháº§n thÆ°á»Ÿng
â€¢	id
â€¢	name
â€¢	points_cost
â€¢	stock
â€¢	status
â€¢	created_at, updated_at
________________________________________
REWARD_REDEMPTION
ğŸ‘‰ Lá»‹ch sá»­ Ä‘á»•i thÆ°á»Ÿng
â€¢	id
â€¢	citizen_id
â€¢	reward_item_id
â€¢	status
â€¢	points_used
â€¢	created_at, updated_at
________________________________________
10. Khiáº¿u náº¡i & pháº£n há»“i
COMPLAINT
ğŸ‘‰ Khiáº¿u náº¡i (collector / há»‡ thá»‘ng)
â€¢	id
â€¢	complainant_id
â€¢	request_id
â€¢	category
â€¢	message
â€¢	status
â€¢	resolver_user_id
â€¢	resolution_note
â€¢	created_at, resolved_at
________________________________________
COMPLAINT_ATTACHMENT
ğŸ‘‰ File Ä‘Ã­nh kÃ¨m khiáº¿u náº¡i
â€¢	id
â€¢	complaint_id
â€¢	file_url
â€¢	created_at
________________________________________
FEEDBACK
ğŸ‘‰ ÄÃ¡nh giÃ¡ / pháº£n há»“i nháº¹
â€¢	id
â€¢	sender_id
â€¢	report_id
â€¢	message
â€¢	feedback_type
â€¢	rating
â€¢	created_at
________________________________________
11. ThÃ´ng bÃ¡o & thiáº¿t bá»‹
NOTIFICATION
ğŸ‘‰ ThÃ´ng bÃ¡o há»‡ thá»‘ng
â€¢	id
â€¢	recipient_user_id
â€¢	title, message
â€¢	type
â€¢	is_read, read_at
â€¢	created_at
________________________________________
DEVICE_TOKEN
ğŸ‘‰ Push notification
â€¢	id
â€¢	user_id
â€¢	platform
â€¢	token
â€¢	last_seen_at, created_at
________________________________________
12. Xáº¿p háº¡ng
LEADERBOARD_SNAPSHOT
ğŸ‘‰ Snapshot báº£ng xáº¿p háº¡ng
â€¢	id
â€¢	scope_type, scope_id
â€¢	waste_type_id
â€¢	period_type
â€¢	period_start, period_end
â€¢	calculated_at
________________________________________
LEADERBOARD_ENTRY
ğŸ‘‰ Thá»© háº¡ng tá»«ng user
â€¢	snapshot_id
â€¢	user_id
â€¢	rank
â€¢	points
________________________________________
13. AI há»— trá»£ phÃ¢n loáº¡i
AI_CLASSIFICATION_RESULT
ğŸ‘‰ Káº¿t quáº£ AI gá»£i Ã½ loáº¡i rÃ¡c
â€¢	id
â€¢	report_id
â€¢	suggested_waste_type_id
â€¢	confidence
â€¢	alternatives (JSON)
â€¢	model_version
â€¢	created_at
ASSIGNMENT_LOG
- report_id
- enterprise_id
- score
- reason_json
- created_at
________________________________________
COLLECTOR_LOCATION_LOG
- collector_id
- lat
- lng
- accuracy
- recorded_at
________________________________________
REPORT_REVIEW
- report_id
- reviewer_id
- result (APPROVED / REJECTED)
- reason
- created_at
________________________________________

SYSTEM_CONFIG
- key (UK)
- value (jsonb)
- description
- updated_by
- updated_at


vÃ  hiá»‡n táº¡i tÃ´i Ä‘ang triá»ƒn khai chá»©c nÄƒng Quáº£n lÃ­ pháº§n thÆ°á»Ÿng Ä‘á»•i Ä‘iá»ƒm cá»§a Administrator , hÃ£y sá»­a Ä‘á»•i cÃ¡c file cáº§n thiáº¿t trong folder  agent-utils vÃ  workflows  